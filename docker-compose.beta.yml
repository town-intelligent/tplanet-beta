# TPlanet Beta Environment Override
# Usage: docker compose -f docker-compose.yml -f deploy/docker-compose.beta.yml up -d

services:
  frontend:
    container_name: tplanet-frontend-beta
    command: npm run dev
    ports:
      - "5173:5173"
    environment:
      - VITE_HOST_URL_TPLANET=https://beta-tplanet.4impact.cc
      - VITE_API_LLMTWINS=https://beta-llmtwins.4impact.cc

  backend:
    container_name: tplanet-backend-beta
    command: python backend/manage.py runserver 0.0.0.0:5567
    ports:
      - "5568:5567"
    environment:
      - DJANGO_SETTINGS_MODULE=backend.settings
      - DEBUG=True

  db:
    container_name: tplanet-db-beta
    ports:
      - "5433:5432"

  llmtwins:
    container_name: tplanet-llmtwins-beta
    ports:
      - "8002:8002"

  llmtwins-wrapper:
    container_name: tplanet-llmtwins-wrapper-beta
    ports:
      - "8004:8001"
    environment:
      # Empty = allow all tenants
      - VALID_TENANTS=
